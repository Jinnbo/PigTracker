
<ng-template #content let-modal>

	<div class="modal-header">
		<h4 class="modal-title" id="addModal">New Pig Report</h4>
		<button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
	</div>

	<div class="modal-body">

		<!-- Form  OINK!!-->
		<form  [formGroup]="form" (ngSubmit)="onSubmit(form.value)" >
			<fieldset class="mb-3">

				<!-- Name -->
                <label for="name">Name</label>&nbsp;
				<span *ngIf="form.get('name')?.invalid && form.get('name')?.touched">
					<span *ngIf="form.get('name')?.errors?.['required']" class="text-danger"> REQUIRED (No spaces)</span>
				</span>
				<div class="input-group">
					<input
                        class="form-control"
						id="name"
						placeholder="name"
						name="name"
                        type="text"
                        formControlName="name"
					/>
				</div>

				<!-- Phone Number -->
				<label for="phoneNumber">Phone-number</label><br>
				<span *ngIf="form.get('phoneNumber')?.invalid && form.get('phoneNumber')?.touched">
					<span *ngIf="form.get('phoneNumber')?.hasError('pattern')" class="text-danger">Should only be numbers<br></span>
					<span class="text-danger">Should only be 10 numbers</span>
				</span>	
				<div class="input-group">
					<input
						pattern="[0-9]*"
						maxlength= 10
						id="phoneNumber"
						class="form-control"
						placeholder="123456789"
						name="phoneNumber"
                        formControlName="phoneNumber"
					/>
				</div>

				<!-- Pig Info -->
                <label for="pigInfo">Pig Info</label>
				<span *ngIf="form.get('pigInfo')?.invalid && form.get('pigInfo')?.touched">
					<span *ngIf="form.get('pigInfo')?.errors?.['required']" class="text-danger"> REQUIRED</span>
				</span>
				<div class="input-group">
					<input
						id="pigInfo"
						class="form-control"
						placeholder="info"
						name="pigInfo"
                        formControlName="pigInfo"
					/>
				</div>

				<!-- Location -->
				<label for="location">Location: <span class="text-secondary">FORMAT: name,latitude,longitude</span></label>
				<span *ngIf="form.get('location')?.invalid && form.get('location')?.touched">
					<span *ngIf="form.get('location')?.errors?.['required']" class="text-danger">  REQUIRED</span>
				</span>
				<input list="locations" name="location" class="form-control" formControlName="location"/>
				<datalist id="locations">
					<option value="SFU Burnaby, 49.27771876941029, -122.9195895362721">
					<option value="SFU Surrey, 49.18711172841241, -122.84952884218839">
					<option value="Metrotown Mall, 49.22761436851514, -122.99899235433548">
					<option value="Brentwood Mall, 49.268312310205836, -123.00101307496053">
				</datalist>			
			
				<!-- Extra notes-->
                <label for="extraNote" >Extra Notes</label>
				<span *ngIf="form.get('extraNote')?.invalid && form.get('extraNote')?.touched">
					<span *ngIf="form.get('extraNote')?.errors?.['required']" class="text-danger"> REQUIRED</span>
				</span>
				<div class="input-group">
					<input
						id="extraNote"
						class="form-control"
						placeholder="notes"
						name="extraNote"
                        formControlName="extraNote"
					/>
				</div>
				
				<!-- Save BTN -->
				<div class="modal-footer">
					<button type="submit" class="btn btn-primary" (click)="modal.close('Save click')" [disabled]="!form.valid">Save</button>
				</div>
			</fieldset>	
		</form>
	</div>

</ng-template>

<button class="btn btn-primary" (click)="open(content)">CREATE PIG REPORT</button>

